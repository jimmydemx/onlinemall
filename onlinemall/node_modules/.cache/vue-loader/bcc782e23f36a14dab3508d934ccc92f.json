{"remainingRequest":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/Kform/kformitem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/Kform/kformitem.vue","mtime":1620136546220},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEFzeWMtdmFsaWRhdGUKaW1wb3J0IFNjaGVtYSBmcm9tICJhc3luYy12YWxpZGF0b3IiCgpleHBvcnQgZGVmYXVsdCB7CiAgICAgbmFtZToia2lucHV0aXRlbSIsCiAgICBpbmplY3Q6Wydmb3JtJ10sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBlcnJvcjoiIiAgICAgICAKCiAgICAgICAgfQogICAgfSwKCiAgICBwcm9wczp7CiAgICAgICAgbGFiZWw6ewogICAgICAgICAgICB0eXBlOlN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDonJwogICAgICAgIH0sCiAgICAgICAgcHJvcDp7CiAgICAgICAgICAgIHR5cGU6U3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OicnCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLiRvbigidmFsaWRhdGUiLCgpPT57CiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKQogICAgICAgIH0pCiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgdmFsaWRhdGUoKXsKICAgICAgICAgICAgLy8g6KeE5YiZCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybS5ydWxlcykKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLl91aWQpCiAgICAgICAgICAgIGNvbnN0IHJ1bGVzPXRoaXMuZm9ybS5ydWxlc1t0aGlzLnByb3BdCgogICAgICAgICAgICAvL+W9k+WJjeWAvAogICAgICAgICAgICBjb25zdCB2YWx1ZT10aGlzLmZvcm0ubW9kZWxbdGhpcy5wcm9wXQogICAgICAgICAgICAvLyDmoKHpqozmj4/ov7Dlr7nosaEKICAgICAgICAgICAgbGV0IGc9dGhpcy5wcm9wCiAgICAgICAgICAgIGNvbnN0IGRlc2M9e1t0aGlzLnByb3BdOnJ1bGVzfQogICAgICAgICAgICBjb25zb2xlLmxvZygidG90YWwiLGBydWxlcz0ke3J1bGVzfSx2YWx1ZT0ke3ZhbHVlfSxkZXNjPSR7ZGVzY30sJHtbdGhpcy5wcm9wXSBpbnN0YW5jZW9mIEFycmF5fSwke3RoaXMucHJvcH1gKQogICAgICAgICAgICAvLyDliJvlu7pzY2hlbWHlrp7kvosKICAgICAgICAgICAgY29uc3Qgc2NoZW1hPW5ldyBTY2hlbWEoZGVzYykKICAgICAgICAgICByZXR1cm4gc2NoZW1hLnZhbGlkYXRlKHtbdGhpcy5wcm9wXTp2YWx1ZX0sZXJyb3JzPT57CiAgICAgICAgICAgICAgICBpZihlcnJvcnMpewogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3I9ZXJyb3JzWzBdLm1lc3NhZ2UKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3I9IiIKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9KQogICAgICAgICAgICAKICAgICAgICB9CiAgICB9Cgp9Cg=="},{"version":3,"sources":["kformitem.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA","file":"kformitem.vue","sourceRoot":"src/Kform","sourcesContent":["<template>\n    <div>\n        <label v-if=\"label\">{{label}}</label>\n        <slot></slot>\n        <p v-if='error'>{{error}}</p>\n        <!-- <p>{{form.model}}</p> -->\n    </div>\n\n</template>\n\n<script>\n// Asyc-validate\nimport Schema from \"async-validator\"\n\nexport default {\n     name:\"kinputitem\",\n    inject:['form'],\n    data(){\n        return{\n            error:\"\"       \n\n        }\n    },\n\n    props:{\n        label:{\n            type:String,\n            default:''\n        },\n        prop:{\n            type:String,\n            default:''\n        }\n    },\n    mounted(){\n        this.$on(\"validate\",()=>{\n            this.validate()\n        })\n    },\n    methods:{\n        validate(){\n            // 规则\n            // console.log(this.form.rules)\n            //console.log(this._uid)\n            const rules=this.form.rules[this.prop]\n\n            //当前值\n            const value=this.form.model[this.prop]\n            // 校验描述对象\n            let g=this.prop\n            const desc={[this.prop]:rules}\n            console.log(\"total\",`rules=${rules},value=${value},desc=${desc},${[this.prop] instanceof Array},${this.prop}`)\n            // 创建schema实例\n            const schema=new Schema(desc)\n           return schema.validate({[this.prop]:value},errors=>{\n                if(errors){\n                    this.error=errors[0].message\n                }else{\n                    this.error=\"\"\n\n                }\n\n            })\n            \n        }\n    }\n\n}\n</script>\n\n<style>\n\n</style>"]}]}