{"remainingRequest":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/babel-loader/lib/index.js!/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/store/kvuex.js","dependencies":[{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/store/kvuex.js","mtime":1620296791605},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvamFtZXNkZW14L0Rlc2t0b3AvUHJvamVjdHMvT25saW5lTWFsbC9vbmxpbmVtYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CnZhciBWdWU7Cgp2YXIgS3Z1ZXggPSBmdW5jdGlvbiBLdnVleChvcHRpb25zKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEt2dWV4KTsKfTsKCkt2dWV4Lmluc3RhbGwgPSBmdW5jdGlvbiAoX1Z1ZSkgewogIFZ1ZSA9IF9WdWUsIFZ1ZS5taXhpbih7CiAgICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgICAgaWYgKHRoaXMuJG9wdGlvbnMuc3RvcmUpIHsKICAgICAgICBWdWUucHJvdG90eXBlLiRzdG9yZSA9IHRoaXMuJG9wdGlvbnMuc3RvcmU7CiAgICAgIH0KICAgIH0KICB9KTsKfTsKCkt2dWV4LlN0b3JlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICB0aGlzLl9tdXRhdGlvbnMgPSBvcHRpb25zLm11dGF0aW9uczsKICB0aGlzLl9hY3Rpb25zID0gb3B0aW9ucy5hY3Rpb25zOyAvL+WTjeW6lOWMluWkhOeQhnN0YXRl55qE5YC8CiAgLy/ms6jmhI/mlrDlu7rnq4vkuIDkuKpWdWXlrp7kvoss5ZKM5qC557uE5Lu255qEdnVl5piv5LiN5ZCM55qE5a6e5L6LCgogIHRoaXMuc3RhdGUgPSBuZXcgVnVlKHsKICAgIGRhdGE6IG9wdGlvbnMuc3RhdGUsCiAgICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzKTsKICAgIH0KICB9KTsgLy8gc3RhdGUg5piv57uZ55So5oi3QVBJ5o6l5Y+j77yM55So5oi35Y+v6IO95Lyg5YWl55qE5YC857G75Z6L5Lya5pyJ6Zeu6aKY44CCCiAgLy8gc3RhdGUg5pivCgogIHRoaXMudm0gPSBuZXcgVnVlKHsKICAgIGRhdGE6IHsKICAgICAgLy8gJCQgVnVl5LiN5YGa5Luj55CG77yM5Lmf5bCx5pivCiAgICAgICQkc3RhdGU6IG9wdGlvbnMuc3RhdGUKICAgIH0sCiAgICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzKTsKICAgIH0KICB9KTsgLy8g5by657uR5a6a5LiK5LiL5paHCgogIHRoaXMuY29tbWl0ID0gdGhpcy5jb21taXQuYmluZCh0aGlzKTsgLy90aGlzLmRpc3BhdGNoPXRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKQp9OyAvLyBzdG9yZS5jb21taXQoImFkZCIsMSkKLy8gdHlwZTogbXV0YXRpb27nmoTnsbvlnosKLy8gb2F5bG9hZOaYr+WPguaVsAoKCkt2dWV4LlN0b3JlLnByb3RvdHlwZS5jb21taXQgPSBmdW5jdGlvbiAodHlwZSwgcGF5bG9hZCkgewogIHZhciBlbnRyeSA9IHRoaXMuX211dGF0aW9uc1t0eXBlXTsKICBpZiAoZW50cnkpIGVudHJ5KHRoaXMuc3RhdGUsIHBheWxvYWQpOwp9OwoKS3Z1ZXguU3RvcmUucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKHR5cGUsIHBheWxvYWQpIHsKICAvLyB0aGlzIOS4iuS4i+aWh+aciemXrumimO+8jOWPiOWbnuiwg+WHveaVsC/ltYzlpZcg5LiA5a6a6KaB5rOo5oSP5LiK5LiL5paH44CCCiAgdmFyIGVudHJ5ID0gdGhpcy5fYWN0aW9uc1t0eXBlXTsKCiAgaWYgKGVudHJ5KSB7CiAgICAvLyBhZGQoe2NvbW1pdH0pewogICAgLy8gICAgIHNldFRpbWVvdXQoKCk9PnsKICAgIC8vICAgICAgIGNvbW1pdCgnYWRkJykKICAgIC8vICAgICB9LDEwMDApCiAgICAvLyAgIH0KICAgIGNvbnNvbGUubG9nKHRoaXMpOyAvL3RoaXPmjIflkJFLdnVleC5zdG9yZeWunuS+i++8jOeEtuWQjntjb21taXR95LiA5Liq77yM5bCx55u05o6l5ou/5Ye6Y29tbWl05Ye95pWw44CCCgogICAgZW50cnkodGhpcywgcGF5bG9hZCk7CiAgfQp9OwoKZXhwb3J0IGRlZmF1bHQgS3Z1ZXg7"},{"version":3,"sources":["/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/store/kvuex.js"],"names":["Vue","Kvuex","options","install","_Vue","mixin","beforeCreate","$options","store","prototype","$store","Store","_mutations","mutations","_actions","actions","state","data","created","console","log","vm","$$state","commit","bind","type","payload","entry","dispatch"],"mappings":";AAAA,IAAIA,GAAJ;;IAIMC,K,GACF,eAAYC,OAAZ,EAAoB;AAAA;AAKnB,C;;AAOLD,KAAK,CAACE,OAAN,GAAc,UAASC,IAAT,EAAc;AACxBJ,EAAAA,GAAG,GAACI,IAAJ,EAEAJ,GAAG,CAACK,KAAJ,CAAU;AACNC,IAAAA,YADM,0BACQ;AACV,UAAG,KAAKC,QAAL,CAAcC,KAAjB,EAAuB;AACnBR,QAAAA,GAAG,CAACS,SAAJ,CAAcC,MAAd,GAAqB,KAAKH,QAAL,CAAcC,KAAnC;AACH;AACJ;AALK,GAAV,CAFA;AASH,CAVD;;AAaAP,KAAK,CAACU,KAAN,GAAa,UAAST,OAAT,EAAiB;AAC1B,OAAKU,UAAL,GAAgBV,OAAO,CAACW,SAAxB;AACA,OAAKC,QAAL,GAAcZ,OAAO,CAACa,OAAtB,CAF0B,CAG1B;AAGA;;AAEA,OAAKC,KAAL,GAAW,IAAIhB,GAAJ,CAAQ;AAEfiB,IAAAA,IAAI,EAAEf,OAAO,CAACc,KAFC;AAIfE,IAAAA,OAJe,qBAIN;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AAEH;AAPc,GAAR,CAAX,CAR0B,CAmBxB;AACF;;AACC,OAAKC,EAAL,GAAQ,IAAIrB,GAAJ,CAAQ;AAEbiB,IAAAA,IAAI,EAAC;AACD;AACAK,MAAAA,OAAO,EAAEpB,OAAO,CAACc;AAFhB,KAFQ;AAMbE,IAAAA,OANa,qBAMJ;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AAEH;AATY,GAAR,CAAR,CArByB,CAkCzB;;AACA,OAAKG,MAAL,GAAY,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAZ,CAnCyB,CAoCzB;AACJ,CArCD,C,CAuCA;AACA;AACA;;;AACAvB,KAAK,CAACU,KAAN,CAAYF,SAAZ,CAAsBc,MAAtB,GAA6B,UAASE,IAAT,EAAcC,OAAd,EAAsB;AAC/C,MAAMC,KAAK,GAAC,KAAKf,UAAL,CAAgBa,IAAhB,CAAZ;AACA,MAAGE,KAAH,EAASA,KAAK,CAAC,KAAKX,KAAN,EAAYU,OAAZ,CAAL;AAGZ,CALD;;AAOAzB,KAAK,CAACU,KAAN,CAAYF,SAAZ,CAAsBmB,QAAtB,GAA+B,UAASH,IAAT,EAAcC,OAAd,EAAsB;AAC7C;AAGJ,MAAMC,KAAK,GAAC,KAAKb,QAAL,CAAcW,IAAd,CAAZ;;AACA,MAAGE,KAAH,EAAS;AACL;AACA;AACA;AACA;AACA;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EANK,CAOL;;AACAO,IAAAA,KAAK,CAAC,IAAD,EAAMD,OAAN,CAAL;AACH;AAGJ,CAjBD;;AAqBA,eAAezB,KAAf","sourcesContent":["var Vue;\n\n\n\nclass Kvuex{\n    constructor(options){\n        \n\n\n\n    }\n\n}\n\n\n\n\nKvuex.install=function(_Vue){\n    Vue=_Vue,\n\n    Vue.mixin({\n        beforeCreate(){\n            if(this.$options.store){\n                Vue.prototype.$store=this.$options.store\n            }\n        }\n    })\n}\n\n\nKvuex.Store =function(options){\n    this._mutations=options.mutations\n    this._actions=options.actions\n    //响应化处理state的值\n\n\n    //注意新建立一个Vue实例,和根组件的vue是不同的实例\n\n    this.state=new Vue({\n\n        data: options.state,\n        \n        created(){\n            console.log(this)\n\n        }\n\n     })\n\n      // state 是给用户API接口，用户可能传入的值类型会有问题。\n    // state 是\n     this.vm=new Vue({\n\n        data:{\n            // $$ Vue不做代理，也就是\n            $$state: options.state\n        },\n        created(){\n            console.log(this)\n\n        }\n\n     })\n\n     // 强绑定上下文\n     this.commit=this.commit.bind(this)\n     //this.dispatch=this.dispatch.bind(this)\n}\n\n// store.commit(\"add\",1)\n// type: mutation的类型\n// oayload是参数\nKvuex.Store.prototype.commit=function(type,payload){\n    const entry=this._mutations[type]\n    if(entry)entry(this.state,payload)\n\n\n}\n\nKvuex.Store.prototype.dispatch=function(type,payload){\n        // this 上下文有问题，又回调函数/嵌套 一定要注意上下文。\n       \n\n    const entry=this._actions[type]\n    if(entry){\n        // add({commit}){\n        //     setTimeout(()=>{\n        //       commit('add')\n        //     },1000)\n        //   }\n        console.log(this)\n        //this指向Kvuex.store实例，然后{commit}一个，就直接拿出commit函数。\n        entry(this,payload)\n    }\n\n\n}\n\n\n\nexport default Kvuex"]}]}