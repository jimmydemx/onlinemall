{"remainingRequest":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/babel-loader/lib/index.js!/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/router/krouter.js","dependencies":[{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/router/krouter.js","mtime":1620139879647},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvamFtZXNkZW14L0Rlc2t0b3AvUHJvamVjdHMvT25saW5lTWFsbC9vbmxpbmVtYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vIOaMgui9vSRyb3VudGVy5YiwdnVlLnByb3RvdHlwZQovLyBpbXBvcnQgVnVlIGZyb20gJ3Z1ZScKdmFyIFZ1ZTsKCnZhciBLVnVlUm91dGVyID0gZnVuY3Rpb24gS1Z1ZVJvdXRlcihvcHRpb25zKSB7CiAgdmFyIF90aGlzID0gdGhpczsKCiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtWdWVSb3V0ZXIpOwoKICB0aGlzLiRvcHRpb25zID0gb3B0aW9uczsgLy9jb25zb2xlLmxvZygiY29uc3RydWN0b3IiLHRoaXMpIOaMh+WQkUt2dWVSb3V0ZXIKICAvL3RoaXMuY3VycmVudOS8oOmAkue7mXJvdXRlci12aWV36L+b6KGMcmVuZGVy5riy5p+T5LiN5piv5ZON5bqU5byP55qECiAgLy90aGlzLmN1cnJlbnQ9Ii8iCiAgLy/miYDku6XpnIDopoHnm7TmjqXlrprkuYnlk43lupTlvI9jdXJyZW505bGe5oCnCgogIFZ1ZS51dGlsLmRlZmluZVJlYWN0aXZlKHRoaXMsICdjdXJyZW50JywgJy8nKTsgLy8g5b2T5YmNd2luZG9357uR5a6a5LiA5Liq5YWo5bGA5LqL5Lu277yfCgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgY29uc29sZS5sb2cod2luZG93LmxvY2F0aW9uLmhhc2gpOwogICAgX3RoaXMuY3VycmVudCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpOwogIH0pOwogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkgewogICAgY29uc29sZS5sb2cod2luZG93LmxvY2F0aW9uLmhhc2gpOwogICAgX3RoaXMuY3VycmVudCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpOwogIH0pOwp9OwoKS1Z1ZVJvdXRlci5pbnN0YWxsID0gZnVuY3Rpb24gKF9WdWUpIHsKICAvLyBfVnVl5pivdnVl5p6E6YCg5Ye95pWw77yM5Lya5Lyg6L+H5p2lCiAgVnVlID0gX1Z1ZTsgLy/mgI7kuYjmoLfojrflj5bmoLnlrp7kvovkuK1yb3VudGVy6YCJ6aG5CiAgLy8g5re35YWl5omA5pyJ57uE5Lu255qEYmVmb3JlY3JlYXRl5Lit77yMCiAgLy8gVnVlLm1peGluKHsKICAvLyAgICAgYmVmb3JlQ3JlYXRlKCl7CiAgLy8gICAgICAgICAvL+azqOaEj+i/memHjOeahHRoaXPkuI3mmK/mjIflkJFLdnVlUm91dGVy5a6e5L6L5LqGCiAgLy8gICAgICAgICBjb25zb2xlLmxvZyh0aGlzKQogIC8vICAgICAgICAvL3JvdXRlciDlnKjmoLnlrp7kvovkuK3ms6jlhows5omA5Lul5qC55a6e5L6L55qEb3B0aW9u5Lit5pyJcm91dGVy5YW25a6D5rKh5pyJCiAgLy8gICAgICAgIGlmICh0aGlzLiRvcHRpb25zLnJvdXRlcil7CiAgLy8gICAgICAgICAgICAvLyDnhLblkI7lnKhwcm90b3R5cGXkuIrmjILovb3vvIzmiYDmnInnmoTlrp7kvovpg73lj6/ku6XnlKjkuoYKICAvLyAgICAgICAgICAgICBWdWUucHJvdG90eXBlLiRyb3V0ZXI9dGhpcy4kb3B0aW9ucy5yb3V0ZXIKICAvLyAgICAgICAgfQogIC8vICAgICB9CiAgLy8gfSkKCiAgVnVlLmNvbXBvbmVudCgncm91dGVyLWxpbmsnLCB7CiAgICBwcm9wczogewogICAgICB0bzogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICB9CiAgICB9LAogICAgLy8gIOS4jeiDveS8oHRlbXBsYXRl5L2c5Li65Y+C5pWwIOWboOS4unRlbXBsYXRlIOS4jeiDveiiq+e8luivke+8jOWPquacieWcqHJ1bm5lcnRpbWXmiY3og73lpJ/ooqvmiafooYwKICAgIC8vIOWPquiDveS9v+eUqHJlbmRlcuWHveaVsAogICAgLy8g5riy5p+T5Ye6PGEgaHJlZj0iIy9hYm91dCI+YWJjPC9hPgogICAgLy8gPHJvdW50ZXItIGxpbmsgdG8uLi4+CiAgICAvLyBoKHRhZyxkYXRhLGNoaWxkcmVuKQogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgICByZXR1cm4gaCgnYScsIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgaHJlZjogJyMnICsgdGhpcy50bwogICAgICAgIH0KICAgICAgfSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7CiAgICB9CiAgfSk7CiAgVnVlLmNvbXBvbmVudCgncm91dGVyLXZpZXcnLCB7CiAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLiRyb290LiRvcHRpb25zLnJvdXRlcik7CiAgICB9LAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIOiOt+WPlnBhdGjlr7nlupTnmoRjb21wb25lbnQKICAgICAgLy8gZm9yIGVhY2gg5Lit5L2/55So566t5aS05Ye95pWw55qE6K+d77yfCiAgICAgIHZhciBjb21wb25lbnQgPSBudWxsOwogICAgICB0aGlzLiRyb290LiRvcHRpb25zLnJvdXRlci4kb3B0aW9ucy5yb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICBpZiAocm91dGUucGF0aCA9PT0gX3RoaXMyLiRyb290LiRvcHRpb25zLnJvdXRlci5jdXJyZW50KSB7CiAgICAgICAgICBjb21wb25lbnQgPSByb3V0ZS5jb21wb25lbnQ7CiAgICAgICAgICBjb25zb2xlLmxvZygnY29tcG9uZW50PScsIGNvbXBvbmVudCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGgoY29tcG9uZW50KTsKICAgIH0KICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IEtWdWVSb3V0ZXI7"},{"version":3,"sources":["/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/router/krouter.js"],"names":["Vue","KVueRouter","options","$options","util","defineReactive","window","addEventListener","console","log","location","hash","current","slice","install","_Vue","component","props","to","type","String","required","render","h","attrs","href","$slots","default","mounted","$root","router","routes","forEach","route","path"],"mappings":";;;AAAA;AACA;AACA,IAAIA,GAAJ;;IAEMC,U,GACF,oBAAYC,OAAZ,EAAoB;AAAA;;AAAA;;AAEhB,OAAKC,QAAL,GAAcD,OAAd,CAFgB,CAGhB;AAEA;AACA;AACA;;AACAF,EAAAA,GAAG,CAACI,IAAJ,CAASC,cAAT,CAAwB,IAAxB,EAA6B,SAA7B,EAAuC,GAAvC,EARgB,CAYhB;;AACAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAqC,YAAI;AACrCC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,QAAP,CAAgBC,IAA5B;AACA,IAAA,KAAI,CAACC,OAAL,GAAaN,MAAM,CAACI,QAAP,CAAgBC,IAAhB,CAAqBE,KAArB,CAA2B,CAA3B,CAAb;AAEH,GAJD;AAOJP,EAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAA+B,YAAI;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,QAAP,CAAgBC,IAA5B;AACA,IAAA,KAAI,CAACC,OAAL,GAAaN,MAAM,CAACI,QAAP,CAAgBC,IAAhB,CAAqBE,KAArB,CAA2B,CAA3B,CAAb;AAEC,GAJL;AAOC,C;;AAOLZ,UAAU,CAACa,OAAX,GAAmB,UAASC,IAAT,EAAc;AAC7B;AACAf,EAAAA,GAAG,GAACe,IAAJ,CAF6B,CAI7B;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;AAEAf,EAAAA,GAAG,CAACgB,SAAJ,CAAc,aAAd,EAA4B;AACxBC,IAAAA,KAAK,EAAC;AACFC,MAAAA,EAAE,EAAC;AACCC,QAAAA,IAAI,EAACC,MADN;AAECC,QAAAA,QAAQ,EAAC;AAFV;AADD,KADkB;AAOxB;AACA;AACA;AACA;AACA;AACCC,IAAAA,MAZuB,kBAYhBC,CAZgB,EAYd;AACN,aAAOA,CAAC,CAAC,GAAD,EAAK;AAACC,QAAAA,KAAK,EAAC;AAACC,UAAAA,IAAI,EAAC,MAAI,KAAKP;AAAf;AAAP,OAAL,EAAgC,KAAKQ,MAAL,CAAYC,OAA5C,CAAR;AAEP;AAf2B,GAA5B;AAiBA3B,EAAAA,GAAG,CAACgB,SAAJ,CAAc,aAAd,EAA4B;AAExBY,IAAAA,OAFwB,qBAEf;AAACpB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKoB,KAAL,CAAW1B,QAAX,CAAoB2B,MAAhC;AAAwC,KAF1B;AAGxBR,IAAAA,MAHwB,kBAGjBC,CAHiB,EAGf;AAAA;;AACL;AACA;AACA,UAAIP,SAAS,GAAC,IAAd;AACA,WAAKa,KAAL,CAAW1B,QAAX,CAAoB2B,MAApB,CAA2B3B,QAA3B,CAAoC4B,MAApC,CAA2CC,OAA3C,CAAmD,UAAAC,KAAK,EAAE;AACtD,YAAGA,KAAK,CAACC,IAAN,KAAa,MAAI,CAACL,KAAL,CAAW1B,QAAX,CAAoB2B,MAApB,CAA2BlB,OAA3C,EAAmD;AAC/CI,UAAAA,SAAS,GAACiB,KAAK,CAACjB,SAAhB;AACAR,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBO,SAAzB;AACH;AACJ,OALD;AAMA,aAAOO,CAAC,CAACP,SAAD,CAAR;AACH;AAduB,GAA5B;AAkBH,CAxDD;;AA2DA,eAAef,UAAf","sourcesContent":["// 挂载$rounter到vue.prototype\n// import Vue from 'vue'\nlet Vue;\n\nclass KVueRouter{\n    constructor(options){\n\n        this.$options=options\n        //console.log(\"constructor\",this) 指向KvueRouter\n\n        //this.current传递给router-view进行render渲染不是响应式的\n        //this.current=\"/\"\n        //所以需要直接定义响应式current属性\n        Vue.util.defineReactive(this,'current','/')\n\n\n\n        // 当前window绑定一个全局事件？\n        window.addEventListener('hashchange',()=>{\n            console.log(window.location.hash)\n            this.current=window.location.hash.slice(1)\n\n        })\n\n    \n    window.addEventListener('load',()=>{\n        console.log(window.location.hash)\n        this.current=window.location.hash.slice(1)\n     \n        })\n    \n\n    }\n \n    \n}\n\n\n\nKVueRouter.install=function(_Vue){\n    // _Vue是vue构造函数，会传过来\n    Vue=_Vue\n\n    //怎么样获取根实例中rounter选项\n    // 混入所有组件的beforecreate中，\n    \n    // Vue.mixin({\n    //     beforeCreate(){\n    //         //注意这里的this不是指向KvueRouter实例了\n    //         console.log(this)\n    //        //router 在根实例中注册,所以根实例的option中有router其它没有\n    //        if (this.$options.router){\n    //            // 然后在prototype上挂载，所有的实例都可以用了\n    //             Vue.prototype.$router=this.$options.router\n\n    //        }\n\n    //     }\n    // })\n\n    Vue.component('router-link',{\n        props:{\n            to:{\n                type:String,\n                required:true\n                }\n            },\n        //  不能传template作为参数 因为template 不能被编译，只有在runnertime才能够被执行\n        // 只能使用render函数\n        // 渲染出<a href=\"#/about\">abc</a>\n        // <rounter- link to...>\n        // h(tag,data,children)\n         render(h){\n            return h('a',{attrs:{href:'#'+this.to}},this.$slots.default)\n            \n    }\n     })\n    Vue.component('router-view',{\n        \n        mounted(){console.log(this.$root.$options.router)},\n        render(h){\n            // 获取path对应的component\n            // for each 中使用箭头函数的话？\n            let component=null\n            this.$root.$options.router.$options.routes.forEach(route=>{\n                if(route.path===this.$root.$options.router.current){\n                    component=route.component\n                    console.log('component=',component)\n                }\n            })\n            return h(component) \n        }\n\n     })\n\n}\n\n\nexport default KVueRouter"]}]}