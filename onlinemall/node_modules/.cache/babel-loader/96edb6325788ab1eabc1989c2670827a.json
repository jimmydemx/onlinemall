{"remainingRequest":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/babel-loader/lib/index.js!/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/Kform/kformitem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/src/Kform/kformitem.vue","mtime":1620136546220},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesdemx/Desktop/Projects/OnlineMall/onlinemall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvamFtZXNkZW14L0Rlc2t0b3AvUHJvamVjdHMvT25saW5lTWFsbC9vbmxpbmVtYWxsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIEFzeWMtdmFsaWRhdGUKaW1wb3J0IFNjaGVtYSBmcm9tICJhc3luYy12YWxpZGF0b3IiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImtpbnB1dGl0ZW0iLAogIGluamVjdDogWydmb3JtJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yOiAiIgogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgcHJvcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRvbigidmFsaWRhdGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnZhbGlkYXRlKCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyDop4TliJkKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLnJ1bGVzKQogICAgICAvL2NvbnNvbGUubG9nKHRoaXMuX3VpZCkKICAgICAgdmFyIHJ1bGVzID0gdGhpcy5mb3JtLnJ1bGVzW3RoaXMucHJvcF07IC8v5b2T5YmN5YC8CgogICAgICB2YXIgdmFsdWUgPSB0aGlzLmZvcm0ubW9kZWxbdGhpcy5wcm9wXTsgLy8g5qCh6aqM5o+P6L+w5a+56LGhCgogICAgICB2YXIgZyA9IHRoaXMucHJvcDsKCiAgICAgIHZhciBkZXNjID0gX2RlZmluZVByb3BlcnR5KHt9LCB0aGlzLnByb3AsIHJ1bGVzKTsKCiAgICAgIGNvbnNvbGUubG9nKCJ0b3RhbCIsICJydWxlcz0iLmNvbmNhdChydWxlcywgIix2YWx1ZT0iKS5jb25jYXQodmFsdWUsICIsZGVzYz0iKS5jb25jYXQoZGVzYywgIiwiKS5jb25jYXQoW3RoaXMucHJvcF0gaW5zdGFuY2VvZiBBcnJheSwgIiwiKS5jb25jYXQodGhpcy5wcm9wKSk7IC8vIOWIm+W7unNjaGVtYeWunuS+iwoKICAgICAgdmFyIHNjaGVtYSA9IG5ldyBTY2hlbWEoZGVzYyk7CiAgICAgIHJldHVybiBzY2hlbWEudmFsaWRhdGUoX2RlZmluZVByb3BlcnR5KHt9LCB0aGlzLnByb3AsIHZhbHVlKSwgZnVuY3Rpb24gKGVycm9ycykgewogICAgICAgIGlmIChlcnJvcnMpIHsKICAgICAgICAgIF90aGlzMi5lcnJvciA9IGVycm9yc1swXS5tZXNzYWdlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuZXJyb3IgPSAiIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["kformitem.vue"],"names":[],"mappings":";;;;;;;;;;;;AAWA;AACA,OAAA,MAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,MAAA,EAAA,CAAA,MAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAIA,GARA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GAVA;AAoBA,EAAA,OApBA,qBAoBA;AAAA;;AACA,SAAA,GAAA,CAAA,UAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,QAAA;AACA,KAFA;AAGA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA;AACA;AACA;AACA,UAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,CAJA,CAMA;;AACA,UAAA,KAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CAAA,KAAA,IAAA,CAAA,CAPA,CAQA;;AACA,UAAA,CAAA,GAAA,KAAA,IAAA;;AACA,UAAA,IAAA,uBAAA,KAAA,IAAA,EAAA,KAAA,CAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,kBAAA,KAAA,oBAAA,KAAA,mBAAA,IAAA,cAAA,CAAA,KAAA,IAAA,aAAA,KAAA,cAAA,KAAA,IAAA,GAXA,CAYA;;AACA,UAAA,MAAA,GAAA,IAAA,MAAA,CAAA,IAAA,CAAA;AACA,aAAA,MAAA,CAAA,QAAA,qBAAA,KAAA,IAAA,EAAA,KAAA,GAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA,OAAA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,EAAA;AAEA;AAEA,OARA,CAAA;AAUA;AAzBA;AAzBA,CAAA","sourcesContent":["<template>\n    <div>\n        <label v-if=\"label\">{{label}}</label>\n        <slot></slot>\n        <p v-if='error'>{{error}}</p>\n        <!-- <p>{{form.model}}</p> -->\n    </div>\n\n</template>\n\n<script>\n// Asyc-validate\nimport Schema from \"async-validator\"\n\nexport default {\n     name:\"kinputitem\",\n    inject:['form'],\n    data(){\n        return{\n            error:\"\"       \n\n        }\n    },\n\n    props:{\n        label:{\n            type:String,\n            default:''\n        },\n        prop:{\n            type:String,\n            default:''\n        }\n    },\n    mounted(){\n        this.$on(\"validate\",()=>{\n            this.validate()\n        })\n    },\n    methods:{\n        validate(){\n            // 规则\n            // console.log(this.form.rules)\n            //console.log(this._uid)\n            const rules=this.form.rules[this.prop]\n\n            //当前值\n            const value=this.form.model[this.prop]\n            // 校验描述对象\n            let g=this.prop\n            const desc={[this.prop]:rules}\n            console.log(\"total\",`rules=${rules},value=${value},desc=${desc},${[this.prop] instanceof Array},${this.prop}`)\n            // 创建schema实例\n            const schema=new Schema(desc)\n           return schema.validate({[this.prop]:value},errors=>{\n                if(errors){\n                    this.error=errors[0].message\n                }else{\n                    this.error=\"\"\n\n                }\n\n            })\n            \n        }\n    }\n\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src/Kform"}]}